# VK Music API Bot | VKBottle Bot Example

Или на русском пример "бизнес" бота на VKBottle или VK Music API Bot

---

## Описание

Это код рабочего вк бота. В коде были подставленны невалидные значения, чтобы этот код из 
коробки **_работал неправильно_**, а может быть и с ошибками.

Так же тут не будет структуры БД из PostgreSQL (но она есть в файле `utils/orm.py`).

Этот бот является примером, как можно делать ботов.

Для этого бота нужен сервер с выделенным IP адресом и настроенным NGINX. Так же нужен Redis, 
PostgreSQL.

`Redis` - для кеша. Прочитать про этот инструмент можно в интернете.

`PostgreSQL` - хранения информации о пользователей.

Используется vkbottle 3.0

**P.S** _И да, в моем коде есть недостатки, а именно запросы к БД являются синхронными, а значит
будет блокировать EventLoop. Но запросы к Redis и локальной БД PostgreSQL достаточно быстры, 
чтобы не сильно тормозить бота при слабой нагрузке. И смысл переписывать бота чтобы он был полностью 
асинх - нет, потому что это пример, а во-вторых у этого бота и так слабая нагрузка, где-то 0 
запросов в день...._

## Суть бота

Этот бот - панель для контроля ключей для доступа к API написанного на Flask, а так же их покупки. 
Если хотите ознакомится, как этот бот работает в действительности
то [тык сюда](https://vk.com/buy_key_vk_music_api)

В боте реализована покупка через QIWI, дополнительная регистрация через 
Steam (потому что я так хочу). Реализован админ панель, для контроля пользователей бота.
И реализована система бана, которая при блокировки пользователя в ВК (через группу) удаляет его КЛЮЧ
(если пользователь покупал ключ) из БД. И многое другое... 

Доп. информация будет в папке `src`.

## Зависимости

В проекте использую `Poetry`. Зависимости бота можно посмотреть в файле `pyproject.toml`. 
